<?php
/**
 * Block Name: Footer: Logo Description Contact
 */

  $class = 'footer-logo-description-contact footer-logo-description-contact-' . $block['id'];
  $className = '.footer-logo-description-contact-' . $block['id'];
  if (!empty($block['className'])){
    $class .= ' ' . $block['className'];
  }
  $id_block = '';
  if( !empty($block['anchor']) ) {
    $id_block = 'id=' . $block['anchor'];
  }

  $fields = get_fields();
  $blockStyle = get_style_acf_gut_block($fields['settings_section'], $className);

  $logo = $fields['logo'];
  $description = $fields['description'];
  // Contacts
  $location = $fields['location'];
  $location_address = $location['location_address'];
  $link_to_place = $location['link_to_place'];
  $phone = $fields['phone'];
  $fax = $fields['fax'];
?>

<div <?php echo esc_attr($id_block); ?> class="footer__col <?php echo $class;  ?>" >

  <div class="footer-logo-description-contact__wrap">

    <?php if( !empty( $logo ) ): ?>
      <div class="footer-logo-description-contact__logo">
        <a href="/">
          <img width="110" height="40" src="<?php echo esc_url($logo['url']); ?>" alt="<?php echo esc_attr($logo['alt']); ?>" loading="lazy" >
        </a>
      </div>
    <?php endif; ?>

    <?php if (!empty($description)): ?>
      <div class="footer-logo-description-contact__description">
        <p>
          <?php echo esc_html($description); ?>
        </p>
      </div>
    <?php endif; ?>

    
    <ul class="footer-logo-description-contact__contacts">

      <?php if ($location): ?>
        <li class="footer-logo-description-contact__item">
          <div class="icon">
            <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.00781 4.15625C6.42065 4.15625 5.84667 4.33036 5.35846 4.65657C4.87026 4.98278 4.48974 5.44644 4.26505 5.98891C4.04035 6.53138 3.98156 7.12829 4.09611 7.70417C4.21066 8.28006 4.4934 8.80904 4.90859 9.22422C5.32378 9.63941 5.85276 9.92216 6.42864 10.0367C7.00452 10.1513 7.60144 10.0925 8.1439 9.86777C8.68637 9.64307 9.15003 9.26256 9.47624 8.77435C9.80245 8.28614 9.97656 7.71216 9.97656 7.125C9.97656 6.33764 9.66378 5.58253 9.10704 5.02578C8.55029 4.46903 7.79517 4.15625 7.00781 4.15625ZM7.00781 9.15625C6.60607 9.15625 6.21335 9.03712 5.87931 8.81392C5.54527 8.59073 5.28492 8.27349 5.13118 7.90233C4.97744 7.53116 4.93722 7.12275 5.01559 6.72872C5.09397 6.3347 5.28743 5.97276 5.5715 5.68869C5.85558 5.40461 6.21751 5.21116 6.61154 5.13278C7.00556 5.0544 7.41398 5.09463 7.78514 5.24837C8.1563 5.40211 8.47354 5.66246 8.69674 5.9965C8.91993 6.33054 9.03906 6.72326 9.03906 7.125C9.03701 7.66309 8.82234 8.17855 8.44185 8.55904C8.06136 8.93953 7.5459 9.15419 7.00781 9.15625ZM7.00781 0.40625C5.22652 0.408318 3.51878 1.11685 2.25922 2.37641C0.99966 3.63597 0.29113 5.34371 0.289062 7.125C0.289062 9.53906 1.41406 12.1016 3.53125 14.5391C4.486 15.6467 5.56318 16.6427 6.74219 17.5078C6.81995 17.5628 6.9126 17.5927 7.00781 17.5938C7.10525 17.5915 7.20006 17.5617 7.28125 17.5078C8.45485 16.639 9.52906 15.6434 10.4844 14.5391C12.6094 12.1016 13.7266 9.53906 13.7266 7.125C13.7245 5.34371 13.016 3.63597 11.7564 2.37641C10.4968 1.11685 8.7891 0.408318 7.00781 0.40625ZM7.00781 16.5391C5.83594 15.6328 1.22656 11.7812 1.22656 7.125C1.22656 5.59172 1.83566 4.12123 2.91985 3.03704C4.00405 1.95284 5.47453 1.34375 7.00781 1.34375C8.5411 1.34375 10.0116 1.95284 11.0958 3.03704C12.18 4.12123 12.7891 5.59172 12.7891 7.125C12.7891 11.7812 8.17969 15.6328 7.00781 16.5391Z" fill="currentColor"/>
            </svg>
          </div>
          <?php if($link_to_place){ ?>
            <address>
              <a href="<?= esc_url($link_to_place); ?>">
                <?php echo esc_html($location_address); ?>
              </a>
            </address>
          <?php }else{ ?>
            <address>
              <p>
                <?php echo esc_html($location_address); ?>
              </p>
            </address>
          <?php } ?>
        </li>
      <?php endif; ?>

      <?php if($phone): ?>
        <li class="footer-logo-description-contact__item">
          <div class="icon">
            <svg width="12" height="18" viewBox="0 0 12 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.9419 0.720703H2.05857C1.53575 0.752108 1.04644 0.988529 0.69693 1.37861C0.347418 1.76869 0.165934 2.28092 0.191901 2.80404V15.1957C0.165934 15.7188 0.347418 16.231 0.69693 16.6211C1.04644 17.0112 1.53575 17.2476 2.05857 17.279H9.9419C10.4647 17.2476 10.954 17.0112 11.3035 16.6211C11.653 16.231 11.8345 15.7188 11.8086 15.1957V2.80404C11.8345 2.28092 11.653 1.76869 11.3035 1.37861C10.954 0.988529 10.4647 0.752108 9.9419 0.720703ZM10.9752 15.1957C11.0007 15.4978 10.9067 15.7978 10.7136 16.0315C10.5204 16.2652 10.2434 16.4139 9.9419 16.4457H2.05857C1.75708 16.4139 1.48006 16.2652 1.2869 16.0315C1.09373 15.7978 0.999801 15.4978 1.02523 15.1957V2.80404C0.999801 2.50194 1.09373 2.2019 1.2869 1.96823C1.48006 1.73457 1.75708 1.58588 2.05857 1.55404H3.33357V1.97904C3.33357 2.20005 3.42136 2.41201 3.57764 2.56829C3.73393 2.72457 3.94589 2.81237 4.1669 2.81237H7.83357C8.05458 2.81237 8.26654 2.72457 8.42282 2.56829C8.5791 2.41201 8.6669 2.20005 8.6669 1.97904V1.55404H9.9419C10.2434 1.58588 10.5204 1.73457 10.7136 1.96823C10.9067 2.2019 11.0007 2.50194 10.9752 2.80404V15.1957Z" fill="currentColor"/>
              <path d="M4.33268 14.7786H7.66602C7.77652 14.7786 7.8825 14.7347 7.96064 14.6566C8.03878 14.5785 8.08268 14.4725 8.08268 14.362C8.08268 14.2515 8.03878 14.1455 7.96064 14.0674C7.8825 13.9892 7.77652 13.9453 7.66602 13.9453H4.33268C4.22218 13.9453 4.11619 13.9892 4.03805 14.0674C3.95991 14.1455 3.91602 14.2515 3.91602 14.362C3.91602 14.4725 3.95991 14.5785 4.03805 14.6566C4.11619 14.7347 4.22218 14.7786 4.33268 14.7786Z" fill="currentColor"/>
            </svg>
          </div>
          <span><?php _e('Phone','web-des-sun') ?>: </span>
          <a href="tel:+<?php echo preg_replace('/[^0-9]/', '', $phone); ?>"><?php echo $phone; ?></a>
        </li>
      <?php endif; ?>

      <?php if($fax): ?>
        <li class="footer-logo-description-contact__item">
          <div class="icon">
            <svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15.5 0.0625H0.5C0.41712 0.0625 0.337634 0.0954241 0.279029 0.154029C0.220424 0.212634 0.1875 0.29212 0.1875 0.375V11C0.1875 11.2486 0.286272 11.4871 0.462087 11.6629C0.637903 11.8387 0.87636 11.9375 1.125 11.9375H14.875C15.1236 11.9375 15.3621 11.8387 15.5379 11.6629C15.7137 11.4871 15.8125 11.2486 15.8125 11V0.375C15.8125 0.29212 15.7796 0.212634 15.721 0.154029C15.6624 0.0954241 15.5829 0.0625 15.5 0.0625ZM8 6.82813L1.30469 0.6875H14.6953L8 6.82813ZM6.17188 6L0.8125 10.9141V1.08594L6.17188 6ZM6.63281 6.42187L7.78906 7.47656C7.8458 7.53099 7.92138 7.56139 8 7.56139C8.07862 7.56139 8.1542 7.53099 8.21094 7.47656L9.36719 6.42187L14.6953 11.3125H1.30469L6.63281 6.42187ZM9.82812 6L15.1875 1.08594V10.9141L9.82812 6Z" fill="currentColor"/>
            </svg>
          </div>
          <span><?php _e('Fax','web-des-sun') ?>: </span>
          <a href="fax:+<?php echo preg_replace('/[^0-9]/', '', $fax); ?>"><?php echo $fax; ?></a>
        </li>
      <?php endif; ?>

    </ul>
    

  </div>
  
  <style><?php echo $blockStyle; ?></style>
</div>